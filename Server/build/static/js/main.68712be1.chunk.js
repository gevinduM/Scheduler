(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),o=n(20),l=n.n(o),r=(n(30),n(31),n(32),n(7)),d=n(8),i=n(21),u=n(22),j=n(24),h=n(23),b=n(53),O=n(51),x=n(52),v=function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)(O.a,{children:[Object(c.jsx)(x.a,{children:e.loads.member}),Object(c.jsx)(x.a,{children:e.loads.load.Monday}),Object(c.jsx)(x.a,{children:e.loads.load.Tuesday}),Object(c.jsx)(x.a,{children:e.loads.load.Wednesday}),Object(c.jsx)(x.a,{children:e.loads.load.Thursday}),Object(c.jsxs)(x.a,{children:[e.loads.load.Friday," "]}),Object(c.jsx)(x.a,{children:e.loads.load.Total})]})})},p=function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)(O.a,{children:[Object(c.jsx)(x.a,{children:e.schedule.work}),Object(c.jsx)(x.a,{children:Object(c.jsxs)("select",{value:e.schedule.roster.Monday,onChange:function(t){return e.changed("Monday",e.schedule,t)},style:{marginBottom:"2px"},children:[Object(c.jsx)("option",{value:""}),Object(c.jsx)("option",{value:"X1",children:"X1"}),Object(c.jsx)("option",{value:"X2",children:"X2"}),Object(c.jsx)("option",{value:"X3",children:"X3"}),Object(c.jsx)("option",{value:"X4",children:"X4"}),Object(c.jsx)("option",{value:"X5",children:"X5"}),Object(c.jsx)("option",{value:"X6",children:"X6"}),Object(c.jsx)("option",{value:"X7",children:"X7"})]})}),Object(c.jsx)(x.a,{children:Object(c.jsxs)("select",{value:e.schedule.roster.Tuesday,onChange:function(t){return e.changed("Tuesday",e.schedule,t)},children:[Object(c.jsx)("option",{value:""}),Object(c.jsx)("option",{value:"X1",children:"X1"}),Object(c.jsx)("option",{value:"X2",children:"X2"}),Object(c.jsx)("option",{value:"X3",children:"X3"}),Object(c.jsx)("option",{value:"X4",children:"X4"}),Object(c.jsx)("option",{value:"X5",children:"X5"}),Object(c.jsx)("option",{value:"X6",children:"X6"}),Object(c.jsx)("option",{value:"X7",children:"X7"})]})}),Object(c.jsx)(x.a,{children:Object(c.jsxs)("select",{value:e.schedule.roster.Wednesday,onChange:function(t){return e.changed("Wednesday",e.schedule,t)},children:[Object(c.jsx)("option",{value:""}),Object(c.jsx)("option",{value:"X1",children:"X1"}),Object(c.jsx)("option",{value:"X2",children:"X2"}),Object(c.jsx)("option",{value:"X3",children:"X3"}),Object(c.jsx)("option",{value:"X4",children:"X4"}),Object(c.jsx)("option",{value:"X5",children:"X5"}),Object(c.jsx)("option",{value:"X6",children:"X6"}),Object(c.jsx)("option",{value:"X7",children:"X7"})]})}),Object(c.jsx)(x.a,{children:Object(c.jsxs)("select",{value:e.schedule.roster.Thursday,onChange:function(t){return e.changed("Thursday",e.schedule,t)},children:[Object(c.jsx)("option",{value:""}),Object(c.jsx)("option",{value:"X1",children:"X1"}),Object(c.jsx)("option",{value:"X2",children:"X2"}),Object(c.jsx)("option",{value:"X3",children:"X3"}),Object(c.jsx)("option",{value:"X4",children:"X4"}),Object(c.jsx)("option",{value:"X5",children:"X5"}),Object(c.jsx)("option",{value:"X6",children:"X6"}),Object(c.jsx)("option",{value:"X7",children:"X7"})]})}),Object(c.jsx)(x.a,{children:Object(c.jsxs)("select",{value:e.schedule.roster.Friday,onChange:function(t){return e.changed("Friday",e.schedule,t)},children:[Object(c.jsx)("option",{value:""}),Object(c.jsx)("option",{value:"X1",children:"X1"}),Object(c.jsx)("option",{value:"X2",children:"X2"}),Object(c.jsx)("option",{value:"X3",children:"X3"}),Object(c.jsx)("option",{value:"X4",children:"X4"}),Object(c.jsx)("option",{value:"X5",children:"X5"}),Object(c.jsx)("option",{value:"X6",children:"X6"}),Object(c.jsx)("option",{value:"X7",children:"X7"})]})})]})})},X=n(10),f=n.n(X),g=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={schedule:[],loads:[]},e.postDataHandler=function(){f.a.post("/api/state",e.state).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.onEmpChanged=function(t,n,c){var s=e.state.schedule.findIndex((function(e){return e.id===n.id})),a=Object(d.a)({},e.state.schedule[s]);console.log(a),""!==a.roster[t]&&a.roster[t]!==c.target.value&&e.resetMemberLoad(t,n),a.roster[t]=c.target.value;var o=Object(r.a)(e.state.schedule);o[s]=a,e.setState({schedule:o}),""===c.target.value||e.isConsecutiveLunchSlots(t,n)||e.inTwoPlacesAtOnce(t,n)||e.calculateMembersLoad(t,n)},e.resetMemberLoad=function(t,n){var c=n.roster[t],s=e.state.loads.findIndex((function(e){return e.member===c})),a=Object(d.a)({},e.state.loads[s]);a.load[t]=a.load[t]-1,a.load.Total=a.load.Total-1;var o=Object(r.a)(e.state.loads);o[s]=a,e.setState({loads:o})},e.calculateMembersLoad=function(t,n){var c=n.roster[t],s=e.state.loads.findIndex((function(e){return e.member===c})),a=Object(d.a)({},e.state.loads[s]);if(a.load[t]+1>2)alert("".concat(c," has more than 2 shifts on ").concat(t)),e.unDoLastSchedule(t,n);else if(a.load.Total+1>7)alert("".concat(c," has more than 7 shifts per week")),e.unDoLastSchedule(t,n);else{a.load[t]=a.load[t]+1,a.load.Total=a.load.Total+1;var o=Object(r.a)(e.state.loads);o[s]=a,e.setState({loads:o}),e.postDataHandler()}},e.unDoLastSchedule=function(t,n){var c=e.state.schedule.findIndex((function(e){return e.id===n.id})),s=Object(d.a)({},e.state.schedule[c]);s.roster[t]="";var a=Object(r.a)(e.state.schedule);a[c]=s,e.setState({schedule:a})},e.isConsecutiveLunchSlots=function(t,n){var c=!1;if(["04","05","06","07"].includes(n.id)){var s=n.roster[t],a=[];a.push(e.state.schedule[3].roster[t]),a.push(e.state.schedule[4].roster[t]),a.push(e.state.schedule[5].roster[t]),a.push(e.state.schedule[6].roster[t]);for(var o=0;o<a.length;o++){var l=o+1;if(l<a.length&&""!==a[o]&&a[o]===s&&a[l]===s){c=!0,e.unDoLastSchedule(t,n),alert("".concat(s," is in consecutive lunch slots on ").concat(t));break}}}return c},e.countOccurrences=function(e,t){return e.reduce((function(e,n){return n===t?e+1:e}),0)},e.inTwoPlacesAtOnce=function(t,n){var c=n.roster[t],s=!1;if(["01","02","03"].includes(n.id)){var a=[];a.push(e.state.schedule[0].roster[t]),a.push(e.state.schedule[1].roster[t]),a.push(e.state.schedule[2].roster[t]),e.countOccurrences(a,c)>1&&(s=!0,e.unDoLastSchedule(t,n),alert("".concat(c," is already in a morning shift on ").concat(t)))}else if(["08","09","10"].includes(n.id)){var o=[];o.push(e.state.schedule[7].roster[t]),o.push(e.state.schedule[8].roster[t]),o.push(e.state.schedule[9].roster[t]),e.countOccurrences(o,c)>1&&(s=!0,e.unDoLastSchedule(t,n),alert("".concat(c," is already in afternoon shift on ").concat(t)))}return s},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/state").then((function(t){console.log("componentDidMount"),e.setState({schedule:t.data.schedule}),e.setState({loads:t.data.loads})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.schedule.map((function(t,n){return"04"===t.id||"08"===t.id?Object(c.jsx)("div",{style:{marginTop:"10px"},children:Object(c.jsx)(p,{schedule:t,changed:e.onEmpChanged},t.id)}):Object(c.jsx)(p,{schedule:t,changed:e.onEmpChanged},t.id)})),n=this.state.loads.map((function(e,t){return Object(c.jsx)(v,{loads:e},e.member)}));return Object(c.jsx)("div",{children:Object(c.jsxs)(b.a,{fluid:!0,children:[Object(c.jsx)("p",{style:{textAlign:"center"},children:"Schedule"}),Object(c.jsxs)(O.a,{children:[Object(c.jsx)(x.a,{}),Object(c.jsx)(x.a,{children:"Monday"}),Object(c.jsx)(x.a,{children:"Tuesday"}),Object(c.jsx)(x.a,{children:"Wednesday"}),Object(c.jsx)(x.a,{children:"Thursday"}),Object(c.jsx)(x.a,{children:"Friday "})]}),t,Object(c.jsx)("p",{style:{textAlign:"center",marginTop:"20px"},children:"Load"}),Object(c.jsxs)(O.a,{children:[Object(c.jsx)(x.a,{children:"Staff Member"}),Object(c.jsx)(x.a,{children:"Monday"}),Object(c.jsx)(x.a,{children:"Tuesday"}),Object(c.jsx)(x.a,{children:"Wednesday"}),Object(c.jsx)(x.a,{children:"Thursday"}),Object(c.jsx)(x.a,{children:"Friday "}),Object(c.jsx)(x.a,{children:"Totals"})]}),n]})})}}]),n}(s.Component);var y=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(g,{})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};l.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),m()}},[[50,1,2]]]);
//# sourceMappingURL=main.68712be1.chunk.js.map